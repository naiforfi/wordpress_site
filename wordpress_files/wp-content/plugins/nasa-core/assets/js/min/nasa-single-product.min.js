jQuery(document).ready(function(a){"use strict";a("body").on("nasa_before_popup_360_degree",function(){a.magnificPopup.close(),a.magnificPopup.open({mainClass:"my-mfp-zoom-in",items:{src:'<div class="nasa-product-360-degree"></div>',type:"inline"},closeMarkup:'<button title="'+a('input[name="nasa-close-string"]').val()+'" type="button" class="mfp-close nasa-stclose-360">Ã—</button>',callbacks:{beforeClose:function(){this.st.removalDelay=350},afterClose:function(){}}})}),a("body").on("change",".nasa-check-accessories-product",function(){var s=null;if("undefined"!=typeof nasa_ajax_params&&"undefined"!=typeof nasa_ajax_params.wc_ajax_url&&(s=nasa_ajax_params.wc_ajax_url.toString().replace("%%endpoint%%","nasa_refresh_accessories_price")),s){var e=a(this),n=a(e).parents(".nasa-accessories-check"),r=a(e).val(),c=a(e).is(":checked"),t=a(n).find(".nasa-check-main-product").length?parseInt(a(n).find(".nasa-check-main-product").attr("data-price")):0;a(n).find(".nasa-check-accessories-product").length&&a(n).find(".nasa-check-accessories-product").each(function(){a(this).is(":checked")&&(t+=parseInt(a(this).attr("data-price")))}),a.ajax({url:s,type:"post",dataType:"json",cache:!1,data:{total_price:t},beforeSend:function(){a(n).append('<div class="nasa-disable-wrap"></div><div class="nasa-loader"></div>')},success:function(s){"undefined"!=typeof s.total_price&&(a(".nasa-accessories-total-price .price").html(s.total_price),c?a(".nasa-accessories-"+r).fadeIn(200):a(".nasa-accessories-"+r).fadeOut(200)),a(n).find(".nasa-loader, .nasa-disable-wrap").remove()},error:function(){}})}}),a("body").on("click",".add_to_cart_accessories",function(){if("undefined"!=typeof nasa_ajax_params&&"undefined"!=typeof nasa_ajax_params.wc_ajax_url){var s=nasa_ajax_params.wc_ajax_url.toString().replace("%%endpoint%%","nasa_add_to_cart_accessories"),e=a(this),n=a(e).parents(".nasa-bought-together-wrap");if(a(n).length){var r=a(n).find(".nasa-accessories-check");if(a(r).length){var c=[];a(r).find(".nasa-check-main-product").length&&c.push(a(r).find(".nasa-check-main-product").val()),a(r).find(".nasa-check-accessories-product").length&&a(r).find(".nasa-check-accessories-product").each(function(){a(this).is(":checked")&&c.push(a(this).val())}),c.length&&a.ajax({url:s,type:"post",dataType:"json",cache:!1,data:{product_ids:c},beforeSend:function(){a(".nasa-message-error").hide(),a(n).append('<div class="nasa-disable-wrap"></div><div class="nasa-loader"></div>')},success:function(s){s&&s.fragments?(a.each(s.fragments,function(s,e){a(s).replaceWith(e)}),a(".cart-link").length&&a(".cart-link").trigger("click")):s&&s.error&&a(".nasa-message-error").length&&(a(".nasa-message-error").html(s.message),a(".nasa-message-error").show()),a(n).find(".nasa-loader, .nasa-disable-wrap").remove()},error:function(){a(n).find(".nasa-loader, .nasa-disable-wrap").remove()}})}}}return!1}),a(".single-product .nasa-sa-brands").length&&(a(".single-product .woocommerce-product-rating").length?a(".single-product .woocommerce-product-rating").addClass("nasa-has-sa-brands"):a(".single-product .nasa-sa-brands").addClass("margin-top-10"),a(".single-product .nasa-sa-brands").addClass("nasa-inited")),a("body").on("nasa_after_loaded_ajax_complete",function(){a(".single-product .nasa-sa-brands").length&&(a(".single-product .woocommerce-product-rating").length?a(".single-product .woocommerce-product-rating").addClass("nasa-has-sa-brands"):a(".single-product .nasa-sa-brands").addClass("margin-top-10"),a(".single-product .nasa-sa-brands").addClass("nasa-inited"))}),setTimeout(function(){a("body").trigger("nasa_init_ux_variation_form")},10)});